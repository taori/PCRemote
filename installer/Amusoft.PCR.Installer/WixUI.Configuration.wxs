<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">

    <Fragment>
        <UI>
            <Property Id="CUSTOM_PORT_SERVER" Value="8080" />
            <Property Id="CUSTOM_PORT_DISCOVERY" Value="8081" />
            <Property Id="CUSTOM_ENDPOINT_NAME" Value="Host 1" />
            <Property Id="CUSTOM_PFX_PASSWORD" Value="Pick a password" Secure="yes"/>

            <Dialog Id="ConfigurationDlg" Width="370" Height="270" Title="!(loc.BrowseDlg_Title)">

                <Control Id="Next" Type="PushButton" X="236" Y="243" Width="56" Height="17" Default="yes" Text="!(loc.WixUINext)" >
                    <Publish Event="DoAction" Value="VerifyConfigurationAction"/>
                    <!-- <Condition Action="disable"><![CDATA[ConfigurationIsValid <> "1"]]></Condition> -->
                    <!-- <Condition Action="enable">ConfigurationIsValid = "1"</Condition> -->
                </Control>
                <Control Id="Back" Type="PushButton" X="180" Y="243" Width="56" Height="17" Text="!(loc.WixUIBack)" />
                <Control Id="Cancel" Type="PushButton" X="304" Y="243" Width="56" Height="17" Cancel="yes" Text="!(loc.WixUICancel)">
                    <Publish Event="SpawnDialog" Value="CancelDlg"/>
                </Control>

                <Control Id="Description" Type="Text" X="25" Y="23" Width="280" Height="15" Transparent="yes" NoPrefix="yes" Text="Choose settings to configure which affect your local server" />
                <Control Id="Title" Type="Text" X="15" Y="6" Width="200" Height="15" Transparent="yes" NoPrefix="yes" Text="{\WixUI_Font_Title}Application Configuration" />
                <Control Id="BannerBitmap" Type="Bitmap" X="0" Y="0" Width="370" Height="44" TabSkip="no" Text="!(loc.InstallDirDlgBannerBitmap)" />
                <Control Id="BannerLine" Type="Line" X="0" Y="44" Width="370" Height="0" />
                <Control Id="BottomLine" Type="Line" X="0" Y="234" Width="370" Height="0" />

                <Control Id="HintServer" Type="Text" X="26" Y="60" Width="250" Height="16" Transparent="yes" Text="Application Port"/>
                <Control Id="ConfigurationPortServer" Type="MaskedEdit" X="26" Y="76" Width="40" Height="16" Property="CUSTOM_PORT_SERVER" Text="#####" Sunken="yes"/>

                <Control Id="HintDiscovery" Type="Text" X="26" Y="100" Width="250" Height="16" Transparent="yes"
                         Text="Discovery Port"/>
                <Control Id="ConfigurationPortDiscovery" Type="MaskedEdit" X="26" Y="116" Width="40" Height="16"
                         Property="CUSTOM_PORT_DISCOVERY" Text="#####" Sunken="yes"/>

                <Control Id="HintEndpointName" Type="Text" X="26" Y="140" Width="250" Height="16" Transparent="yes"
                         Text="Endpoint Name"/>
                <Control Id="ConfigurationEndpointName" Type="Edit" X="26" Y="156" Width="320" Height="16"
                         Property="CUSTOM_ENDPOINT_NAME" Sunken="yes"/>

                <Control Id="HintPfxPassword" Type="Text" X="26" Y="180" Width="250" Height="16" Transparent="yes"
                         Text="PFX Password"/>
                <Control Id="ConfigurationPfxPassword" Type="Edit" X="26" Y="196" Width="320" Height="16"
                         Property="CUSTOM_PFX_PASSWORD" Sunken="yes"/>

            </Dialog>
        </UI>
    </Fragment>
</Wix>
